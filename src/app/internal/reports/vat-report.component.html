<nvry-upgrade-plan *ngIf="!reportsEnabled; else reportTemplate"></nvry-upgrade-plan>

<ng-template #reportTemplate>
	<section class="vat-report">
		<h2>Umsatzsteuervoranmeldung</h2>
		<p>
			Dieser UVA-Bericht basiert auf den Zahlen und Daten, die du in {{ 'app.name' | translate }} für den ausgewählten
			Zeitraum
			über dein Unternehmen erfasst hast.
			Stelle sicher, dass du weitere relevante Zahlen oder Veränderungen an das Finanzamt weiterleitest.<br>
			<br>
			<strong>Bitte beachte: Dieser Bericht wurde auf Basis der Ist-Versteuerung erstellt. Nicht gebuchte Einnahmen und Ausgaben werden nicht berücksichtigt.</strong>
		</p>

		<div class="vat-report-form-fields">
			<nvry-year-selection [(year)]="selectedYear" (yearChange)="refreshReport()"></nvry-year-selection>

			<label>{{ 'general.quarter' | translate }}</label>
			<ff-select [(selectedValue)]="selectedQuarter"
						 (selectedValueChange)="refreshReport()"
						 [options]="quarters"
						 valueKey="value"
						 [enableSearchField]="false"></ff-select>
		</div>

		<div *ngIf="report">
			<h3>Vorberechnung</h3>
			<div class="vat-report-amount-to-pay-container">
            <span class="vat-report-amount-to-pay" [class.amount-positive]="report.amountToPay > 0">
                <span *ngIf="report.amountToPay >= 0">Vorauszahlung:</span>
                <span *ngIf="report.amountToPay < 0">Rückerstattung:</span>

                <span class="amount">{{ getAbsoluteAmount(report.amountToPay) | ffNumber }}</span>
            </span>
				<ff-spinner *ngIf="loading"></ff-spinner>
			</div>

			<div class="vat-report-paper">
				<div class="vat-report-category" *ngFor="let category of report.categories">
					<h2 class="category-headline">{{ category.title }}</h2>
					<ul class="vat-report-field-list">
						<li *ngFor="let field of category.fields">
							<span class="value">{{ field.value | ffNumber }}</span>
							<span class="title">{{ field.number }}</span>
							<span class="description">{{ field.description_simple }}&nbsp;</span>
						</li>
					</ul>
				</div>
			</div>
		</div>
	</section>
</ng-template>
